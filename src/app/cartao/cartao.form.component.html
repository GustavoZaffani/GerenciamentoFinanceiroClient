<app-toolbar></app-toolbar>
<br>
<div class="container">
  <p-card [style]="{width: auto, height: auto}" styleClass="ui-card-shadow">

    <p-header>
      <div class="col-12">
        Cartão Form
      </div>
    </p-header>

    <form #form="ngForm">

      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <label for="id">Código</label>
            <input name="id"
                   id="id"
                   type="number"
                   class="form-control"
                   [(ngModel)]="cartao.id"
                   [disabled]="true">
          </div>
        </div>

        <div class="col-md-9">
          <div class="form-group">
            <label for="descricao">Descrição</label>
            <span class="campo-obrigatorio">*</span>
            <input name="descricao"
                   id="descricao"
                   type="text"
                   [(ngModel)]="cartao.descricao"
                   class="form-control">
          </div>
        </div>
      </div>

      <div class="row">

        <div class="col-6">
          <div class="form-group">
            <label for="credenciadora">Credenciadora</label>
            <p-autoComplete inputId="credenciadora"
                            name="credenciadora"
                            [dropdown]="true"
                            appendTo="body"
                            field="credenciadora"
                            [(ngModel)]="cartao.credenciadora"
                            (onSelect)="credenciadoraSelected()"
                            (completeMethod)="findCredenciadoras($event)"
                            [suggestions]="credenciadoraList"
                            (onClear)="cartao.credenciadora = null"
                            [forceSelection]="true">
            </p-autoComplete>
          </div>
        </div>

        <div class="col-3">
          <div class="form-group">
            <label for="cnpjCred">CNPJ Credenciadora</label>
            <input name="cnpjCred"
                   id="cnpjCred"
                   type="text"
                   disabled
                   [(ngModel)]="cartao.cnpj"
                   class="form-control">
          </div>
        </div>

        <div class="col-3">
          <div class="form-group">
            <label for="tipo">Tipo</label>
            <span class="campo-obrigatorio">*</span>
            <select name="tipo"
                    id="tipo"
                    (change)="validaTipoCartao()"
                    [(ngModel)]="cartao.tipo"
                    class="form-control">
              <option value="C">Crédito</option>
              <option value="D">Débito</option>
            </select>
          </div>
        </div>

      </div>

      <div class="row">
        <div class="col-3">
          <div class="form-group">
            <label for="vencimento">Dia Vencimento</label>
            <span *ngIf="enabledObrigaVencimento" class="campo-obrigatorio">*</span>
            <input name="vencimento"
                   id="vencimento"
                   type="number"
                   [disabled]="disabledVencimento"
                   [(ngModel)]="cartao.vencimento"
                   class="form-control">
          </div>
        </div>

        <div class="col-3">
          <div class="form-group">
            <label for="melhorDia">Melhor dia p/ Compra</label>
            <span *ngIf="enabledObrigaMelhorData" class="campo-obrigatorio">*</span>
            <input name="melhorDia"
                   id="melhorDia"
                   type="number"
                   [disabled]="disabledMelhorData"
                   [(ngModel)]="cartao.melhorData"
                   class="form-control">
          </div>
        </div>

        <div class="col-3">
          <div class="form-group">
            <label for="limite">Limite</label>
            <input name="limite"
                   id="limite"
                   type="text"
                   [(ngModel)]="cartao.limite"
                   class="form-control">
          </div>
        </div>

        <div class="col-3">
          <div class="form-group">
            <label for="bandeira">Bandeira</label>
            <p-autoComplete inputId="bandeira"
                            name="bandeira"
                            [dropdown]="true"
                            appendTo="body"
                            field="descricao"
                            [(ngModel)]="cartao.bandeira"
                            (completeMethod)="findBandeiras($event)"
                            [suggestions]="bandeirasList"
                            (onClear)="cartao.bandeira = null"
                            [forceSelection]="true">
            </p-autoComplete>
<!--            <input name="bandeira"-->
<!--                   id="bandeira"-->
<!--                   class="form-control"-->
<!--                   [(ngModel)]="cartao.bandeira"-->
<!--                   type="text">-->
          </div>
        </div>

      </div>
      <p-footer>
        <button pButton
                type="button"
                label="Salvar"
                icon="pi pi-check"
                (click)="save()">
        </button>

        <button pButton
                type="button"
                label="Voltar"
                icon="pi pi-times"
                class="ui-button-secondary"
                (click)="back()">
        </button>

      </p-footer>

    </form>
  </p-card>
</div>

